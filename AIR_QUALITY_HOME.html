<DOCtype html>
    <style>

        
      #instruction2 {
        width: 60%;
        margin-top: 4px;
      }
      #getLocBtn {
        float: left;
        margin-top: 0px;
      }
 html,
  body,
  #viewDiv {
    padding: auto;
    margin: auto;
    height: 99%;
    width: 99%;
  }


        #Head {
            color: white;
            margin:auto;
            padding-left: 40%;
        
        }
        
        body{
            background-color: #59528f;
        }
    </style>

   
<Title>WELCOME TO THE AIR_QUALITY</Title> 
    <meta charset="utf-8" />
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />

    
   <div id="head"> <Head>THE NUMBER ONE AIR QUALITY</Head></div>
    <link rel="stylesheet" href="https://js.arcgis.com/4.30/esri/themes/light/main.css" />
        <script src="https://js.arcgis.com/4.30/"></script>

    <script>

require([  "esri/Map",
        "esri/views/MapView", 
        "esri/rest/locator"], (Map, MapView, locator) => {
          const locatorUrl = "https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer";

  const myMap = new Map({
    basemap: "topo"
  });
  
  var view = new MapView({
    container: "viewDiv",
    map: myMap,
    zoom: 4,
    center: [-80, 50]
  });
       view.popupEnabled = false;
        view.on("click", (event) => {
            const lat = Math.round(event.mapPoint.latitude*1000)/1000
            const lon = Math.round(event.mapPoint.longitude*1000)/1000

            view.openPopup({
              title: lon + ", " + lat,
              location: event.mapPoint
            })
            const params = {
  location: event.mapPoint
};

// Execute a reverse geocode using the clicked location
locator.locationToAddress(locatorUrl, params)
  
  .then((response) => {
    // If an address is successfully found, show it in the popup's content
    view.popup.content = response.address;
  })
  .catch(() => {
    // If the promise fails and no result is found, show a generic message
    view.popup.content = "No address was found for this location";
  });
        });
        
      });
        /*
            var graphic = new Graphic({
            geometry: {
              type: "point",
              latitude: evt.mapPoint.latitude,
              longitude: evt.mapPoint.longitude,
              spatialReference: view.spatialReference,
              query: "AIR_QUALITY_APP.html"
            },

            symbol: {
              type: "simple-marker", color: [255, 10, 10],
              outline: {
                
                color: [255, 255, 255],
                width: 2,
              },
            },
          });
          view.graphics.removeAll();
          view.graphics.add(graphic);

          search.search(evt.mapPoint);
          search.resultGraphicEnabled = false;
        
    });
          */       </script>
    <body>

        
        
        
        <div id="H">
        <div id="viewDiv"></div>


        </div>

    </body>
